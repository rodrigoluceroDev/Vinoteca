# ================ GENERAL ================
server.port=8081
spring.application.name=SaleWine

# ================ DATASOURCE (MYSQL 8.0) ================
spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/sale_wine
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ================ JPA/HIBERNATE ================
spring.jpa.generate-ddl=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# ================ SPRING SECURITY (NUEVAS PROPIEDADES) ================
# Configuración básica de seguridad
spring.security.user.name=admin-temp  # Usuario temporal para pruebas (eliminar en producción)
spring.security.user.password=admin123
spring.security.user.roles=ADMIN

# CSRF (protección contra ataques)
spring.security.csrf.enabled=true

# Configuración de sesión
server.servlet.session.timeout=30m  # 30 minutos de inactividad
spring.session.store-type=jdbc  # Almacena sesiones en BD

# ================ VALIDACIÓN ADICIONAL ================
# Pool de conexiones (mejora rendimiento)
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.maximum-pool-size=5

# Validación de conexión a la BD
spring.datasource.validation-query=SELECT 1
